<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Firebase Setup â€” ×“×” ×•×™× ×¦'×™</title>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Heebo',sans-serif;background:#09090b;color:#f0ead8;min-height:100vh;padding:30px 20px;direction:rtl}
.wrap{max-width:540px;margin:0 auto;display:flex;flex-direction:column;gap:20px}
h1{font-size:24px;font-weight:700;color:#c9a84c;text-align:center}
.sub{text-align:center;color:#a89878;font-size:13px}
.card{background:#111214;border:1px solid rgba(201,168,76,.28);border-radius:12px;padding:24px;display:flex;flex-direction:column;gap:14px}
.card h2{font-size:15px;font-weight:700}
.fg{display:flex;flex-direction:column;gap:5px}
label{font-size:11px;font-weight:600;color:#a89878}
input{background:#1c1e22;border:1px solid #242629;border-radius:8px;padding:10px 12px;color:#f0ead8;font-family:inherit;font-size:13px;direction:ltr;outline:none;width:100%}
input:focus{border-color:rgba(201,168,76,.5)}
.btn{background:#c9a84c;color:#09090b;border:none;padding:13px;border-radius:8px;font-size:14px;font-weight:700;cursor:pointer;font-family:inherit;width:100%}
.btn:hover{background:#e2c06a}
.btn:disabled{opacity:.5;cursor:not-allowed}
.log{background:#0a0a0b;border:1px solid #242629;border-radius:8px;padding:14px;font-size:12px;font-family:monospace;line-height:2;min-height:120px;direction:ltr;text-align:left;overflow-y:auto;max-height:260px}
.done{background:rgba(76,175,122,.06);border:1px solid rgba(76,175,122,.3);border-radius:10px;padding:18px;text-align:center;display:none}
.done h3{color:#4caf7a;font-size:16px;margin-bottom:8px}
.done p{color:#a89878;font-size:12px;line-height:1.8}
table{width:100%;border-collapse:collapse;font-size:12px}
th{background:#1c1e22;color:#5c5444;padding:8px 10px;text-align:right;font-size:10px;text-transform:uppercase}
td{padding:9px 10px;border-bottom:1px solid rgba(255,255,255,.04);color:#a89878}
td:first-child{color:#f0ead8;font-weight:600}
.p{display:inline-block;padding:2px 9px;border-radius:20px;font-size:10px;font-weight:700;background:rgba(201,168,76,.12);color:#c9a84c;border:1px solid rgba(201,168,76,.3)}
</style>
</head>
<body>
<div class="wrap">
  <h1>ğŸ”¥ Firebase Setup</h1>
  <p class="sub">×”×’×“×¨×” ×—×“ ×¤×¢××™×ª â€” ×“×” ×•×™× ×¦'×™</p>

  <div class="card">
    <h2>×¤×¨×˜×™ Firebase</h2>
    <div class="fg"><label>API Key</label><input id="apiKey" value="AIzaSyBfnYW-d4UFVvuqdxCLk_autpWmOLL2zFo"></div>
    <div class="fg"><label>Project ID</label><input id="projectId" value="leonrdi-de-vinhi"></div>
  </div>

  <div class="card">
    <h2>×¡×™×¡××” ×œ×× ×”×œ×™×</h2>
    <div class="fg"><label>×¡×™×¡××” (×œ×©× ×™ ×”×× ×”×œ×™×)</label><input id="adminPass" value="admin1234"></div>
    <table style="margin-top:6px">
      <thead><tr><th>××™××™×™×œ</th><th>×ª×¤×§×™×“</th></tr></thead>
      <tbody>
        <tr><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c2a3a6afabacf382a6a3b4abaca1abeca1adaf">[email&#160;protected]</a></td><td><span class="p">×× ×”×œ 1</span></td></tr>
        <tr><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3f5e5b5256510d7f5b5e4956515c56115c5052">[email&#160;protected]</a></td><td><span class="p">×× ×”×œ 2</span></td></tr>
      </tbody>
    </table>
  </div>

  <div class="card">
    <button class="btn" id="runBtn">ğŸš€ ×¦×•×¨ ××©×ª××©×™×</button>
    <div class="log" id="log">×××ª×™×Ÿ...</div>
    <div class="done" id="done">
      <h3>âœ… ×”×•×©×œ×!</h3>
      <p>
        ×©× ×™ ×”×× ×”×œ×™× × ×•×¦×¨×• ×‘×”×¦×œ×—×”.<br><br>
        <strong style="color:#f0ead8">×›× ×™×¡×” ×œ××¢×¨×›×ª ×”× ×™×”×•×œ:</strong><br>
        <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="accdc8c1c5c29decc8cddac5c2cfc582cfc3c1">[email&#160;protected]</a> / admin1234<br>
        <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="19787d7470772b597d786f70777a70377a7674">[email&#160;protected]</a> / admin1234<br><br>
        <strong style="color:#f0ead8">×“×£ ×”×œ×•×‘×™:</strong> ×¤×ª×•×— ×œ×›×•×œ×, ×œ×œ× ×¡×™×¡××”
      </p>
    </div>
  </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
import { getAuth, createUserWithEmailAndPassword, signOut } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js';
import { getFirestore, doc, setDoc } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js';

function log(msg, color) {
  const el = document.getElementById('log');
  const c = {g:'#4caf7a',r:'#e05252',y:'#a89878',gold:'#c9a84c'};
  el.innerHTML += '<span style="color:'+(c[color]||'#f0ead8')+'">'+msg+'</span>\n';
  el.scrollTop = el.scrollHeight;
}

document.getElementById('runBtn').addEventListener('click', async function() {
  const apiKey = document.getElementById('apiKey').value.trim();
  const projectId = document.getElementById('projectId').value.trim();
  const adminPass = document.getElementById('adminPass').value.trim();

  if(!apiKey||!projectId){log('âŒ ×—×¡×¨×™× ×¤×¨×˜×™ Firebase','r');return;}
  if(adminPass.length<6){log('âŒ ×¡×™×¡××” ×§×¦×¨×” ××“×™ (××™× ×™××•× 6 ×ª×•×•×™×)','r');return;}

  this.disabled=true;
  document.getElementById('log').innerHTML='';

  let auth, db;
  try{
    log('ğŸ”§ ××ª×—×‘×¨...','y');
    const app = initializeApp({apiKey, authDomain:projectId+'.firebaseapp.com', projectId}, 'setup'+Date.now());
    auth = getAuth(app);
    db = getFirestore(app);
    log('âœ“ ××—×•×‘×¨!','g');
  }catch(e){log('âŒ '+e.message,'r');this.disabled=false;return;}

  const users = [
    {email:'admin1@davinci.com', name:'×× ×”×œ 1', role:'admin'},
    {email:'admin2@davinci.com', name:'×× ×”×œ 2', role:'admin'},
  ];

  let ok=0, fail=0;
  for(const u of users){
    log('â³ '+u.email+'...','y');
    try{
      const cred = await createUserWithEmailAndPassword(auth, u.email, adminPass);
      await setDoc(doc(db,'users',cred.