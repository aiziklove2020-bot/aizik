<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Firebase Setup â€” ×“×” ×•×™× ×¦'×™</title>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Heebo',sans-serif;background:#09090b;color:#f0ead8;min-height:100vh;padding:30px 20px;direction:rtl}
.wrap{max-width:600px;margin:0 auto;display:flex;flex-direction:column;gap:20px}
h1{font-size:24px;font-weight:700;color:#c9a84c;text-align:center}
.sub{text-align:center;color:#a89878;font-size:13px;margin-top:-12px}
.card{background:#111214;border:1px solid rgba(201,168,76,.28);border-radius:12px;padding:24px;display:flex;flex-direction:column;gap:14px}
.card h2{font-size:15px;font-weight:700;color:#f0ead8}
.fg{display:flex;flex-direction:column;gap:5px}
label{font-size:11px;font-weight:600;color:#a89878}
input{background:#1c1e22;border:1px solid #242629;border-radius:8px;padding:10px 12px;color:#f0ead8;font-family:inherit;font-size:13px;direction:rtl;outline:none;width:100%;transition:border-color .18s}
input:focus{border-color:rgba(201,168,76,.5)}
.btn{background:#c9a84c;color:#09090b;border:none;padding:13px;border-radius:8px;font-size:14px;font-weight:700;cursor:pointer;font-family:inherit;width:100%;transition:background .18s}
.btn:hover{background:#e2c06a}
.btn:disabled{opacity:.5;cursor:not-allowed}
.log{background:#0a0a0b;border:1px solid #242629;border-radius:8px;padding:14px;font-size:12px;font-family:monospace;line-height:1.8;min-height:120px;direction:ltr;text-align:left;overflow-y:auto;max-height:280px;white-space:pre-wrap}
.users-table{width:100%;border-collapse:collapse;font-size:12px}
.users-table th{background:#1c1e22;color:#5c5444;padding:8px 10px;text-align:right;font-size:10px;letter-spacing:.5px;text-transform:uppercase}
.users-table td{padding:8px 10px;border-bottom:1px solid rgba(255,255,255,.04);color:#a89878}
.users-table td:first-child{color:#f0ead8;font-weight:600}
.pill{display:inline-block;padding:2px 8px;border-radius:20px;font-size:10px;font-weight:700}
.pill.super{background:rgba(224,82,82,.12);color:#e05252;border:1px solid rgba(224,82,82,.28)}
.pill.admin{background:rgba(201,168,76,.12);color:#c9a84c;border:1px solid rgba(201,168,76,.28)}
.pill.guard{background:rgba(91,142,240,.1);color:#5b8ef0;border:1px solid rgba(91,142,240,.18)}
.done-box{background:rgba(76,175,122,.06);border:1px solid rgba(76,175,122,.25);border-radius:10px;padding:16px;text-align:center;display:none}
.done-box h3{color:#4caf7a;font-size:16px;margin-bottom:6px}
.done-box p{color:#a89878;font-size:12px;line-height:1.6}
</style>
</head>
<body>
<div class="wrap">
  <h1>ğŸ”¥ Firebase Setup</h1>
  <p class="sub">×”×’×“×¨×” ××•×˜×•××˜×™×ª ×©×œ ××¢×¨×›×ª ×“×” ×•×™× ×¦'×™</p>

  <div class="card">
    <h2>1. ×¤×¨×˜×™ Firebase</h2>
    <div class="fg"><label>Web API Key</label><input type="text" id="apiKey" value="AIzaSyBfnYW-d4UFVvuqdxCLk_autpWmOLL2zFo"></div>
    <div class="fg"><label>Project ID</label><input type="text" id="projectId" value="leonrdi-de-vinhi"></div>
  </div>

  <div class="card">
    <h2>2. ×¡×™×¡×××•×ª</h2>
    <div class="fg"><label>ğŸ”´ ×¡×™×¡××” ×œ×× ×”×œ ×”×’×“×•×œ</label><input type="text" id="superPass" value="davinci1" placeholder="×œ×¤×—×•×ª 6 ×ª×•×•×™×"></div>
    <div class="fg"><label>ğŸŸ¡ ×¡×™×¡××” ×œ×× ×”×œ×™×</label><input type="text" id="adminPass" value="admin1234" placeholder="×œ×¤×—×•×ª 6 ×ª×•×•×™×"></div>
    <div class="fg"><label>ğŸ”µ ×¡×™×¡××” ×œ×©×•××¨×™×</label><input type="text" id="lobbyPass" value="lobby1234" placeholder="×œ×¤×—×•×ª 6 ×ª×•×•×™×"></div>

    <h2 style="margin-top:4px">××©×ª××©×™× ×©×™×™×•×•×¦×¨×•:</h2>
    <table class="users-table">
      <thead><tr><th>××™××™×™×œ</th><th>×ª×¤×§×™×“</th><th>×’×™×©×”</th></tr></thead>
      <tbody>
        <tr><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d5a6a0a5b0a7b4b1b8bcbb95b1b4a3bcbbb6bcfbb6bab8">[email&#160;protected]</a></td><td><span class="pill super">×× ×”×œ ×’×“×•×œ</span></td><td style="color:#5c5444;font-size:11px">admin.html ×‘×œ×‘×“</td></tr>
        <tr><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b8d9dcd5d1d689f8dcd9ced1d6dbd196dbd7d5">[email&#160;protected]</a></td><td><span class="pill admin">×× ×”×œ</span></td><td style="color:#5c5444;font-size:11px">index.html ×‘×œ×‘×“</td></tr>
        <tr><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b2d3d6dfdbdc80f2d6d3c4dbdcd1db9cd1dddf">[email&#160;protected]</a></td><td><span class="pill admin">×× ×”×œ</span></td><td style="color:#5c5444;font-size:11px">index.html ×‘×œ×‘×“</td></tr>
        <tr><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1d7c797074732e5d797c6b74737e74337e7270">[email&#160;protected]</a></td><td><span class="pill admin">×× ×”×œ</span></td><td style="color:#5c5444;font-size:11px">index.html ×‘×œ×‘×“</td></tr>
        <tr><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c3afaca1a1baf283a7a2b5aaada0aaeda0acae">[email&#160;protected]</a></td><td><span class="pill guard">×©×•××¨</span></td><td style="color:#5c5444;font-size:11px">index.html ×‘×œ×‘×“</td></tr>
        <tr><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="fa9695989883c8ba9e9b8c93949993d4999597">[email&#160;protected]</a></td><td><span class="pill guard">×©×•××¨</span></td><td style="color:#5c5444;font-size:11px">index.html ×‘×œ×‘×“</td></tr>
      </tbody>
    </table>
  </div>

  <div class="card">
    <h2>3. ×”×¤×¢×œ ×”×’×“×¨×” ××•×˜×•××˜×™×ª</h2>
    <button class="btn" id="setupBtn" onclick="runSetup()">ğŸš€ ×”×ª×—×œ ×”×’×“×¨×” ××•×˜×•××˜×™×ª</button>
    <div class="log" id="log">×××ª×™×Ÿ ×œ×”×¤×¢×œ×”...</div>
    <div class="done-box" id="doneBox">
      <h3>âœ“ ×”×”×’×“×¨×” ×”×•×©×œ××”!</h3>
      <p>×›×œ ×”××©×ª××©×™× × ×•×¦×¨×• ×‘×”×¦×œ×—×”.<br>×›×¢×ª ×”×¢×œ×” ××ª <strong>index.html</strong> ×•-<strong>admin.html</strong> ×œ-GitHub Pages.</p>
    </div>
  </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
import { getAuth, createUserWithEmailAndPassword, signOut } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js';
import { getFirestore, doc, setDoc } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js';

window.runSetup = async function() {
  const apiKey = document.getElementById('apiKey').value.trim();
  const projectId = document.getElementById('projectId').value.trim();
  const superPass = document.getElementById('superPass').value.trim();
  const adminPass = document.getElementById('adminPass').value.trim();
  const lobbyPass = document.getElementById('lobbyPass').value.trim();

  if(!apiKey||!projectId){log('âŒ × × ×œ××œ× API Key ×•-Project ID','er');return;}
  if(superPass.length<6||adminPass.length<6||lobbyPass.length<6){log('âŒ ×”×¡×™×¡××” ×—×™×™×‘×ª ×œ×”×™×•×ª ×œ×¤×—×•×ª 6 ×ª×•×•×™×','er');return;}

  const btn=document.getElementById('setupBtn');
  btn.disabled=true;
  document.getElementById('log').textContent='';

  const firebaseConfig={apiKey,authDomain:`${projectId}.firebaseapp.com`,projectId,storageBucket:`${projectId}.firebasestorage.app`};
  log('ğŸ”§ ×××ª×—×œ Firebase...','inf');
  let app,auth,db;
  try{
    app=initializeApp(firebaseConfig,'setup-'+Date.now());
    auth=getAuth(app);db=getFirestore(app);
    log('âœ“ Firebase ××—×•×‘×¨','ok');
  }catch(e){log('âŒ ×©×’×™××”: '+e.message,'er');btn.disabled=false;return;}

  const users=[
    {email:'superadmin@davinci.com',pass:superPass,role:'superadmin',name:'×× ×”×œ ×’×“×•×œ'},
    {email:'admin1@davinci.com',pass:adminPass,role:'admin',name:'×× ×”×œ 1'},
    {email:'admin2@davinci.com',pass:adminPass,role:'admin',name:'×× ×”×œ 2'},
    {email:'admin3@davinci.com',pass:adminPass,role:'admin',name:'×× ×”×œ 3'},
    {email:'lobby1@davinci.com',pass:lobbyPass,role:'guard',name:'×œ×•×‘×™ 1'},
    {email:'lobby2@davinci.com',pass:lobbyPass,role:'guard',name:'×œ×•×‘×™ 2'},
  ];

  const roleNames={superadmin:'×× ×”×œ ×’×“×•×œ',admin:'×× ×”×œ',guard:'×©×•××¨'};
  let ok=0,fail=0;
  for(const u of users){
    log(`â³ ×™×•×¦×¨: ${u.email}...`,'inf');
    try{
      const cred=await createUserWithEmailAndPassword(auth,u.email,u.pass);
      await setDoc(doc(db,'users',cred.user.uid),{email:u.email,role:u.role,name:u.name,createdAt:new Date().toISOString()});
      await signOut(auth);
      log(`âœ“ × ×•×